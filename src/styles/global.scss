@import './reset.scss';

// Font optimization
@font-face {
  font-family: 'SamsungOne';
  src: url('/src/assets/SamsungOne-400.woff2') format('woff2'),
       url('/src/assets/SamsungOne-400.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SamsungOne';
  src: url('/src/assets/SamsungOne-700.woff2') format('woff2'),
       url('/src/assets/SamsungOne-700.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

// Global styles
body {
  font-family: 'SamsungOne', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
}

// Performance optimizations
* {
  box-sizing: border-box;
}

img {
  max-width: 100%;
  height: auto;
}

// Reduce layout shifts
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

// Optimize animations
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/****************************************/
/*	BASIC CSS
/****************************************/
body {
  @include fontsize($size: 'txt');
  @include webfont($fontDefault, 400);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: $text;
  background-color: $con-bg;
}
input,
select,
textarea,
button {
  color: $text-01;
}
a {
  @include webfont($fontDefault, 400);
  display: inline-block;
  text-decoration: none;
  outline: none;
}
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  border-radius: 0px;
  background: transparent;
  margin-bottom: 20px;
}
::-webkit-scrollbar-thumb {
  border-radius: 20px;
  background: $gray;
}

/****************************************/
/*	COMMON CSS
/****************************************/
/* LAYOUT*/
.container {
  height: 100vh;
  @include gridbox();
  .content {
    min-width: 1280px;
    background-color: $bg;
    width: 100%;
    display: grid;
    grid-template-columns: 0 1fr;
    grid-template-rows: auto 1fr;
    grid-template-areas:
      'header header'
      'nav main';
    transition: all, 0.3s;
    overflow: hidden;
    &.nav-open {
      grid-template-columns: 220px 1fr;
      min-width: 1500px;
    }
    & header {
      grid-area: header;
      grid-column: 1 / -1;
    }
    & nav {
    }
    & main {
      background-color: $con-bg;
      grid-area: main;
      padding: 20px;
      overflow-y: auto;
      display: grid;
      justify-content: start;
      align-items: start;
      grid-auto-columns: 1fr;
      grid-auto-rows: max-content;
      gap: 20px;
    }
  }
}

/*dashbord main*/
.header {
  @include flexbox(
    $direction: row,
    $wrap: nowrap,
    $j-content: space-between,
    $al-items: center
  );
  background-color: $bg;
  padding: 20px;
  height: 50px;
  border-bottom: 1px solid $line;

  // header left
  & section.head-l {
    @include flexbox($al-items: center, $gap: 10px);
    & .icon-btn.menu {
      @include svg-size();
      @include overflow(both, hidden);
      @include bg-img($position: -88px -20px);
      cursor: pointer;
      position: relative;
      transition: all, 0.3s;
      &:hover > span,
      &:focus > span {
        @include svg-size();
        background-color: $btn-focus01;
        border-radius: 30px;
      }
    }
    & h1 {
      @include fontsize($size: 'h6');
    }
  }
}

// header right
ul.head-r {
  @include flexbox($al-items: center, $gap: 10px);
  cursor: pointer;
  & li {
    & > button.icon-btn {
      display: inline-flex;
      @include svg-size();
      cursor: pointer;
      &.profile {
        @include bg-img($position: -530px -20px);
        & + div {
          min-width: 100px;
        }
      }
      &.setting {
        @include bg-img($position: -428px -20px);
      }
      &.more {
        @include bg-img($position: -462px -20px);
      }
      padding: 0;
      transition: all, 0.3s;
      &:hover > span,
      &:focus > span {
        @include svg-size();
        background-color: $btn-focus01;
        border-radius: 30px;
      }
    }
    position: relative;
    transition: all, 0.3s;

    &:hover > div {
      @include flexbox();
      flex-wrap: wrap;
    }
    & div {
      z-index: 2;
      display: none;
      @include width;
      min-width: 80px;
      @include overflow(both, hidden);
      border: 1px solid $border;
      border-radius: $rounding;
      position: absolute;
      top: 27px;
      right: 0;
      padding: 4px 0;
      background-color: $con-bg;
      color: $text-01;
      & > * {
        padding: 0 0 0 6px;
        color: $text-01;
        background-color: $con-bg;
        border: none;
        @include fontsize(sm);
        @include width();
        @include height(17px);
        line-height: 17px;
        text-align: left;
        &:hover {
          background-color: $primary-focus;
        }
        &::before {
          content: '';
          display: inline-block;
          @include svg-size($width: 12px, $height: 12px);
          @include align(valign, middle);
          margin-right: 4px;
        }
      }
      & .mypage {
        &::before {
          @include bg-img($size: 386px auto, $position: -296px -10px);
        }
      }
      & .logout {
        &::before {
          @include bg-img($size: 386px auto, $position: -279px -10px);
        }
      }
      & .light {
        &::before {
          @include bg-img($size: 386px auto, $position: -313px -10px);
        }
      }
      & .dark {
        &::before {
          @include bg-img($size: 386px auto, $position: -330px -10px);
        }
      }
    }

    &.more {
    }
  }
}

/*nav*/
.nav-menu {
  grid-area: nav;
  min-width: 0;
  opacity: 0;
  @include overflow(both, hidden);
  background-color: $bg;
  transition: all, 0.3s;
  border-right: 1px solid $line;

  &.open {
    min-width: 220px;
    opacity: 1;
    @include overflow(both, auto);
  }
}

.nav-ul {
  @include flexbox($wrap: wrap);
  & > li {
    @include width(100%);

    // 1depth
    & a.nav-link {
      padding: 6px 22px;
      color: $text;
      border-bottom: 1px solid $line;
      position: relative;
      @include overflow(both, hidden);
      @include flexbox($al-items: center);

      // 1depth icon
      &::before {
        content: '';
        @include svg-size($width: 16px, $height: 16px);
        @include bg-img($size: 518px auto, $position: -332px -13px);
        margin-right: 6px;
      }

      // 1depth arrow
      &::after {
        content: '';
        @include display(inline-block);
        @include svg-size($width: 16px, $height: 16px);
        @include bg-img($size: 510px auto, $position: -170px -13px);
        position: absolute;
        top: 50%;
        right: 8px;
        transform: translateY(-50%);
        transition: all 0.3s;
      }

      // 1depth hover
      &:hover {
        background-color: $menu-focus;
      }
      // 1depth focus
      &:focus {
        color: $primary;

        // 1depth hover,focus icon
        &::before {
          @include bg-img(
            $url: --bg-pri,
            $size: 518px auto,
            $position: -332px -13px
          );
        }
        // 1depth hover,focus arrow
        &::after {
          @include bg-img(
            $url: --bg-pri,
            $size: 510px auto,
            $position: -170px -13px
          );
          transform: translateY(-50%) rotateZ(90deg);
        }
      }

      // 1depth disabled
      &.disabled {
        pointer-events: none;
        cursor: not-allowed;
        color: $disabled-text;
        &::before {
          @include bg-img(
            $url: --bg-img-disabled,
            $size: 518px auto,
            $position: -332px -13px
          );
        }
        &::after {
          @include bg-img(
            $url: --bg-img-disabled,
            $size: 510px auto,
            $position: -170px -13px
          );
        }
      }
    }

    // 2depth
    & > .sub-menu {
      transition: all, 0.3s;
      max-height: 0;
      background: $primary-focus;
      @include flexbox($wrap: wrap);
      @include overflow(both, hidden);
      & li {
        @include width($width: 100%);
        &:first-child {
          padding-top: 6px;
        }
        &:last-child {
          padding-bottom: 6px;
        }
        &.disabled {
        }
      }

      & li a {
        @include width(100%);
        color: $text-01;
        padding: 0 20px;
        &:hover {
          background-color: $menu-focus;
          color: $text-01;
        }
        &:focus {
          color: $primary;
        }
        &:focus:hover {
          background-color: $primary-focus;
          color: $primary;
        }
        // 2depth disabled
        &.disabled {
          pointer-events: none;
          cursor: not-allowed;
          color: $disabled-text;
          &:hover {
            background-color: unset;
            color: unset;
          }
          &:focus {
            color: unset;
          }
        }
      }
    }

    // 2depth open
    &.open {
      & a.nav-link {
        background-color: $primary;
        color: $white;

        // 1depth icon
        &::before {
          content: '';
          @include bg-img(
            $url: --bg-img-white,
            $size: 518px auto,
            $position: -332px -13px
          );
          margin-right: 4px;
        }

        // 1depth arrow
        &::after {
          content: '';
          @include bg-img(
            $url: --bg-img-white,
            $size: 510px auto,
            $position: -170px -13px
          );
          transform: translateY(-50%) rotateZ(90deg);
        }
      }
      & .sub-menu {
        height: auto;
        max-height: 1000px;
        transition: all, 1s;
      }
    }
  }
}

// Login layout
.login-wrap {
  @include height(100vh);
  background: $con-bg;
  @include flexbox($j-content: space-evenly, $al-items: center);
  & .container {
    @include width(620px);
    @include height(460px);
    @include borderRadius(12px);
    // background: url('../assets/login-bg.svg') no-repeat center;
    // 이미지 로딩이 너무 느려서 jpg로 변경
    background: none;
    animation: fadeBg 0.3s ease-in-out forwards;
    align-items: center;
    & .content {
      animation: fadeCon 0.2s ease-in-out forwards;
      @include width();
      @include height(calc(100% - 100px));
      background-color: rgba(0, 0, 0, 0.6);
      padding: 28px 0;
      @include flexbox($j-content: space-evenly, $al-items: flex-start);
      & .tab-wrap {
        max-width: 260px;
      }
    }
  }
}
@keyframes fadeCon {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

@keyframes fadeBg {
  0% {
    background: none;
    opacity: 0;
  }
  50% {
    background: url('../assets/img_05.jpg') no-repeat center;
    background-size: cover;
    opacity: 0.5;
  }
  100% {
    background: url('../assets/img_05.jpg') no-repeat center;
    background-size: cover;
    opacity: 1;
  }
}

/* LAYOUT*/

// input
.input {
  @include txtover;
  padding: 4px 6px;
  color: $text-01;
  border-radius: 4px $imt;
  border: 1px solid $border;
  background: $bg;
  &:focus::placeholder {
    color: $bg;
  }
  &.err {
    border: 1px solid $error;
  }
  &.warn {
    border: 1px solid $warning;
  }
  &.pri {
    border: 1px solid $primary;
  }
  &.sm {
    @include fontsize(sm);
  }
  &.lg {
    @include fontsize(lg);
  }
}
.input-label {
  color: $white;
}

// tag
.tag {
  display: inline-block;
  height: 17px;
  @include fontsize(sm);
  line-height: 16px;
  padding: 0 7.5px;
  border: 1px solid;
  @include borderRadius();
  &.com {
    border-color: $success;
    color: $secondary;
  }
  &.err {
    border-color: $error;
    color: $error;
  }
  &.run-b {
    border-color: $accent;
    color: $accent;
  }
  &.run-g {
    border-color: $gray;
    color: $gray;
  }
  &.rd {
    border-color: $orange;
    color: $orange;
  }
  &.test {
    border-color: $primary;
    color: $primary;
  }
}

// paging btn
.pagination-arrow {
  @include align(text, right);
  margin-bottom: 8px;
  & button {
    background-color: $bg;
    border: 1px solid $gray;
    @include svg-size(26px, 26px);
    border-radius: 4px;
    padding: 6px;
    @include align(valign, top);
    position: relative;
    transition: all, 0.3s;
    &::after {
      content: '';
      display: inline-block;
      @include svg-size(14px, 14px);
      @include bg-img(
        $url: --bg-img-op,
        $size: 454px auto $imt,
        $position: -152px -14px $imt
      );
      transition: all, 0.2s;
    }
    &:first-child {
      margin-right: 4px;
      &::after {
        @include bg-img(
          $url: --bg-img-op,
          $size: 454px auto,
          $position: -133px -14px $imt
        );
      }
    }
    &:disabled {
      background-color: $disabled;
      border-color: $disabled;
      &::after {
        @include bg-img($url: --bg-img-disabled);
      }
    }
    &::before {
      content: '';
      display: inline-block;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: all, 0.5s;
      @include svg-size(28px, 28px);
      @include borderRadius();
    }
    &:hover::before {
      background-color: $btn-focus01;
    }
  }
}

// tab
.tab-wrap {
  & .tab-btn {
    @include height(30px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.4);
    @include flexbox($gap: 0 12px, $al-items: flex-end);
    padding-bottom: 4px;
    margin-bottom: 20px;
    & li {
      @include fontsize(md);
      color: rgba(255, 255, 255, 0.6);
      cursor: pointer;
      transition: all, 0.1s;
      &.on {
        @include fontsize(lg);
        @include fontweight(700);
        color: $bg;
      }
    }
  }

  & .tab-con {
    padding: 0 12px;
    // login layout only
    & form {
      @include flexbox($wrap: wrap, $gap: 4px 0);

      & > * {
        @include width();
        line-height: 1.44;
      }
      & > button.btn {
        margin-top: 8px;
      }
      &.mt44 {
        margin-top: 44px;
      }
    }
    // ====
  }
}

.slide-in-from-right {
  animation: slide-in-from-right 1s forwards;
  transform: translateX(100%);
}
@keyframes slide-in-from-right {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(0%);
  }
}
.slide-in-from-left {
  animation: slide-in-from-left 1s forwards;
  transform: translateX(-100%);
}
@keyframes slide-in-from-left {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0%);
  }
}

.fade-in {
  animation: fade-in 0.5s forwards;
  opacity: 0;
}
@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 100;
  }
}
.fade-out {
  animation: fade-out 0.5s forwards;
  opacity: 100;
}
@keyframes fade-out {
  0% {
    opacity: 100;
  }
  100% {
    opacity: 0;
  }
}
